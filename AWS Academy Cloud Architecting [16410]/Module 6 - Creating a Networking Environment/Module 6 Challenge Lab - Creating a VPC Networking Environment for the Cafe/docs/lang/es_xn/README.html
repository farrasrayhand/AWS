<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>README</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
<style type="text/css">
    #ssb_alexa_blue {
        background-color: #3366ff;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #3366ff;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_alexa_ocean {
        background-color: #00a0d2;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00a0d2;
        white-space: nowrap
    }
    #ssb_alexa_sand {
        background-color: #f2f2f2;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #dcdcdc;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_alexa_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #00a0d2;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_blue {
        background-color: #257ACF;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_orange {
        background-color: #E36000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_red {
        background-color: #D90000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_dark_blue {
        color: white;
        background-color: darkblue;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_grafana_blue {
        background-color: #00678b;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00678b;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_green {
        background-color: #629300;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #629300;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_orange {
        background-color: #ec8427;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #ec8427;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grey {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 5px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_grey_square {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 1px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_blue {
        background-color: #00A1C9;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00A1C9;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_iot_grey {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: gray;
        position: relative;
        top: -1px;
        border-color: gray;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00A1C9;
        position: relative;
        top: -1px;
        border-color: #00A1C9;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_kibana_blue {
        background-color: #0079a5;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0079a5;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_kibana_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #0079a5;
        position: relative;
        top: -1px;
        border-color: #0079a5;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_maroon {
        color: white;
        background-color: darkred;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssl_orange {
        color: #ec7211;
        font-weight: bold
    }
    #ssb_orange_oval {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-radius: 20px;
        white-space: nowrap
    }
    #ssb_oval {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 20px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_start_lab {
        background-color: #34A853;
        font-weight: bold;
        font-size: 90%;
        color: white;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 3px;
        padding-bottom: 3px
    }
    #ssb_open_console {
        background-color: white;
        font-family: Google Sans;
        font-weight: bold;
        font-size: 90%;
        color: #1a73e8;
        border-color: #dadce0;
        border-radius: 4px;
        border-width: 2px;
        border-style: solid;
        outline-color: #ffffff;
        padding-top: 5px;
        padding-bottom: 5px;
        padding-left: 10px;
        padding-right: 10px
    }
    #ssb_rds_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_red {
        background-color: #D93025;
        font-weight: bold;
        font-size: 90%;
        color: white;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 3px;
        padding-bottom: 3px
    }
    #ssb_red_oval {
        background-color: #D93025;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-radius: 20px;
        white-space: nowrap
    }
    #ssb_s3_blue {
        background-color: #329AD6;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_s3_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #329AD6;
        position: relative;
        top: -1px;
        border-color: #329AD6;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_services {
        background-color: #232f3e;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_square_lex {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #1166bb;
        position: relative;
        top: -1px;
        border-color: #c4cbcd;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px
    }
    #ssb_ssm_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssbox_cloudformation_blue {
        font-weight: bold;
        background-color: #f1faff;
        font-size: 90%;
        border-color: #00A1C9;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssl_alexa_ocean {
        color: #00a0d2;
        font-weight: bold
    }
    #ssl_blue {
        color: #1166bb;
        font-weight: bold
    }
    #ssl_catalog_orange {
        color: #E16706;
        font-weight: bold
    }
    #ssb_codestar_blue {
        background-color: #329AD6;
        font-weight: bold;
        font-size: 80%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_cognito_blue {
        background-color: #2a7fd4;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0055aa;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_eb_blue {
        background-color: #0f6dca;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0055aa;
        border-width: 1px;
        border-style: solid;
        border-radius: 4px;
        white-space: nowrap;
    }
    #ssb_eb_grey {
        background-color: #e5e5e5;
        font-weight: bold;
        font-size: 90%;
        color: 444444;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #bbbbbb;
        border-width: 1px;
        border-style: solid;
        border-radius: 4px;
        white-space: nowrap
    }
    #ssb_voc_grey {
        background-color: #F2F3F4;
        font-size: 90%;
        color: black;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: grey;
        border-width: 1px;
        border-style: solid;
        white-space: nowrap
    }
</style>
<style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial; }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }
@media print { 
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='laboratorio-de-desafíos-del-módulo 6-creación-de-un-entorno-de-red-de-vpc-para-la-cafetería'><span>Laboratorio de desafíos del módulo 6: Creación de un entorno de red de VPC para la cafetería</span></h1><h2 id='caso'><span>Caso</span></h2><p><span>Ahora, Sofía y Nikhil confían en su capacidad para crear una arquitectura de dos capas por su experiencia migrando los datos de la cafetería. Migraron correctamente de una base de datos MariaDB en una instancia de Amazon Elastic Compute Cloud (Amazon EC2) a una instancia de base de datos de Amazon Relational Database Service (Amazon RDS). Además, también trasladaron sus recursos de base de datos de una subred pública a una subred privada.</span></p><p><img src="images/mateo.jpg" referrerpolicy="no-referrer"></p><p><span>Cuando Mateo, un cliente regular de la cafetería que es administrador e ingeniero de sistemas de AWS, visita la cafetería, Sofía y Nikhil le informan sobre la migración de la base de datos. Mateo les dice que pueden mejorar la seguridad ejecutando el servidor de aplicaciones de la cafetería en otra subred privada que sea independiente de la instancia de base de datos. Así, podrían pasar por un servidor bastión (o salto) para obtener acceso administrativo al servidor de aplicaciones. El servidor de aplicaciones también debe ser capaz de descargar los parches necesarios.</span></p><p><span>Con el conocimiento de que </span><a href='https://aws.amazon.com/blogs/enterprise-strategy/create-a-culture-of-experimentation-enabled-by-the-cloud/'><span>la nube facilita la experimentación</span></a><span>, Sofía y Nikhil están ansiosos por configurar un entorno de VPC que no sea de producción. Pueden utilizarlo para implementar la nueva arquitectura y probar diferentes capas de seguridad, sin interrumpir por accidente el entorno de producción de la cafetería.</span></p><br><h2 id='información-general-y-objetivos-del-laboratorio'><span>Información general y objetivos del laboratorio</span></h2><p><span>En este laboratorio, utiliza Amazon Virtual Private Cloud (Amazon VPC) para crear un entorno de red en AWS e implementar capas de seguridad que protejan sus recursos.</span></p><p><span>Después de completar este laboratorio, debería ser capaz de lo siguiente:</span></p><ul><li><span>crear un entorno de nube virtual privada (VPC) que le permita conectarse de forma segura a recursos privados</span></li><li><span>permitir que sus recursos privados se conecten a Internet</span></li><li><span>crear una capa adicional de seguridad en su VPC para controlar el tráfico hacia y desde los recursos privados</span></li></ul><p><span>Cuando inicie el laboratorio, solo tendrá una VPC creada para usted en la cuenta de AWS.</span></p><p><span>Una vez que termine este laboratorio, la arquitectura debería verse como el siguiente ejemplo:</span></p><p><img src="images/module-6-challenge-lab-final-architecture.PNG" referrerpolicy="no-referrer" alt="arquitectura final"></p><p><span>(En el diagrama, las flechas de comunicación se omitieron por motivos de simplificación).</span></p><p><strong><span>Nota</span></strong><span>: En este laboratorio de desafíos, no se ofrecen instrucciones paso a paso para la mayoría de las tareas. Debe descubrir sin ayuda cómo completar las tareas.</span></p><br><h2 id='duración'><span>Duración</span></h2><p><span>Para completar este laboratorio, se necesitan aproximadamente </span><strong><span>90 minutos</span></strong><span>.</span></p><br><h2 id='restricciones-de-los-servicios-de-aws'><span>Restricciones de los servicios de AWS</span></h2><p><span>En este entorno de laboratorio, el acceso a los servicios y las acciones de los servicios de AWS puede restringirse a los que se necesiten para cumplir las instrucciones del laboratorio. Es posible que se produzcan errores si intenta acceder a otros servicios o hacer acciones que no sean las que se describen en este laboratorio.</span></p><br><h2 id='acceso-a-la-consola-de-administración-de-aws'><span>Acceso a la consola de administración de AWS</span></h2><ol start='' ><li><p><span>En la parte superior de estas instrucciones, elija </span><span id="ssb_voc_grey"><span>Start Lab</span></span><span> (Iniciar laboratorio) y comience a trabajar en él.</span></p><p><span>Se abrirá el panel </span><strong><span>Start Lab</span></strong><span> (Iniciar laboratorio), donde se muestra el estado del laboratorio.</span></p><p><strong><span>Sugerencia</span></strong><span>: Si necesita más tiempo para completar el laboratorio, vuelva a hacer clic en el botón “Start Lab (Iniciar laboratorio)” para reiniciar el temporizador del entorno.</span></p></li><li><p><span>Espere hasta que aparezca el mensaje </span><em><span>Lab status: ready (Estado del laboratorio: listo)</span></em><span> y, a continuación, haga clic en </span><strong><span>X</span></strong><span> para cerrar el panel </span><strong><span>Start Lab</span></strong><span> (Iniciar laboratorio).</span></p></li><li><p><span>En la parte superior de estas instrucciones, elija </span><span id="ssb_voc_grey"><span>AWS</span></span><span>.</span></p><p><span>Esto abrirá la consola de administración de AWS en una nueva pestaña del navegador y el sistema iniciará su sesión de forma automática.</span></p><p><strong><span>Sugerencia</span></strong><span>: Si no se abre una nueva pestaña del navegador, por lo general habrá un aviso o un icono en la parte superior con un mensaje que indicará que el navegador impide que el sitio abra ventanas emergentes. Haga clic en el aviso o el icono y elija </span><strong><span>Allow pop ups</span></strong><span> (Permitir ventanas emergentes).</span></p></li><li><p><span>Ubique la pestaña de la consola de administración de AWS de modo que aparezca junto con estas instrucciones. Idealmente, debería poder ver ambas pestañas del navegador al mismo tiempo para que pueda seguir los pasos del laboratorio fácilmente.</span></p></li></ol><br><h2 id='solicitud-empresarial-para-la-cafetería-creación-de-una-red-de-vpc-que-permita-al-personal-de-la-cafetería-administrar-de-forma-remota-y-segura-el-servidor-de-aplicaciones-web-desafío n° 1'><span>Solicitud empresarial para la cafetería: creación de una red de VPC que permita al personal de la cafetería administrar de forma remota y segura el servidor de aplicaciones web (Desafío n.° 1)</span></h2><p><span>En este desafío, asumirá el papel de uno de los administradores del sistema de la cafetería. Creará y configurará una red de VPC para que pueda conectarse de forma segura desde un servidor bastión en una subred pública a una instancia EC2 en una subred privada. También creará una gateway NAT para permitir que la instancia EC2 de su subred privada acceda a Internet.</span></p><br><h3 id='tarea 1-crear-una-subred-pública'><span>Tarea 1: Crear una subred pública</span></h3><p><span>Su primera tarea en este laboratorio implica crear una subred pública en </span><em><span>Lab VPC</span></em><span>. Después de crear una subred pública, creará una gateway de Internet para permitir la comunicación desde la subred a Internet. Actualizará la tabla de enrutamiento que está asociada a la subred de modo que dirija el tráfico de red con destino a Internet a través de la gateway de Internet.</span></p><ol start='5' ><li><p><span>Abra la </span><strong><span>consola de Amazon VPC</span></strong><span>.</span></p></li><li><p><span>Tenga en cuenta que se creó una VPC llamada </span><code>Lab VPC</code><span> para usted.</span></p></li><li><p><span>Cree una subred pública que cumpla los siguientes criterios:</span></p><ul><li><strong><span>Name tag</span></strong><span> (Etiqueta de nombre): </span><code>Public Subnet (Subred pública)</code></li><li><strong><span>VPC</span></strong><span>: </span><em><span>Lab VPC</span></em></li><li><strong><span>Availability Zone</span></strong><span> (Zona de disponibilidad): elija la zona de disponibilidad </span><strong><span>a</span></strong><span> de su región (por ejemplo, si su región es </span><em><span>us-east-1</span></em><span>, entonces seleccione </span><strong><span>us-east-1a</span></strong><span>).</span></li><li><strong><span>IPv4 CIDR block</span></strong><span> (Bloque de CIDR IPv4): </span><code>10.0.0.0/24</code></li></ul></li><li><p><span>Cree una nueva gateway de Internet y asóciela a la </span><code>Lab VPC</code><span>.</span></p></li><li><p><span>Edite la tabla de enrutamiento que se creó en la VPC. Agregue la ruta </span><code>0.0.0.0/0</code><span>. Como objetivo, seleccione la gateway de Internet que creó en el paso anterior.</span></p><p><strong><span>Pista</span></strong><span>: Para completar correctamente esta tarea, debe crear algunos recursos. Si no puede avanzar, consulte la </span><a href='https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html'><span>documentación de AWS</span></a><span>.</span></p></li></ol><br><h3 id='tarea 2-crear-un-servidor-bastión'><span>Tarea 2: Crear un servidor bastión</span></h3><p><span>En esta tarea, creará un servidor bastión en la </span><em><span>subred pública</span></em><span>. En tareas posteriores, creará una instancia EC2 en una subred privada y se conectará a ella desde este servidor bastión.</span></p><ol start='10' ><li><p><span>Desde la </span><strong><span>consola de Amazon EC2</span></strong><span>, cree una instancia EC2 en la </span><code>subred pública</code><span> de </span><em><span>Lab VPC</span></em><span> que cumpla los siguientes criterios:</span></p><ul><li><p><strong><span>Amazon Machine Image (AMI)</span></strong><span> (Imagen de Amazon Machine [AMI]): </span><em><span>Amazon Linux 2 AMI (HVM) (AMI de Amazon Linux 2 [HVM])</span></em></p></li><li><p><strong><span>Instance type</span></strong><span> (Tipo de instancia): </span><em><span>t2.micro</span></em></p></li><li><p><strong><span>Auto-assign Public IP</span></strong><span> (Asignación automática de IP pública): este ajuste debería estar desactivado.</span></p></li><li><p><strong><span>Name</span></strong><span> (Nombre): </span><code>Bastion Host (Servidor bastión)</code></p></li><li><p><span>Grupo de seguridad denominado </span><code>Bastion Host SG (Grupo de seguridad de servidor bastión)</code><span> que solo permite el siguiente tráfico:</span></p><ul><li><strong><span>Type</span></strong><span> (Tipo): </span><em><span>SSH</span></em></li><li><strong><span>Port</span></strong><span> (Puerto): </span><code>22</code></li><li><strong><span>Source</span></strong><span> (Origen): su dirección IP</span></li></ul></li><li><p><span>Utiliza el par de claves </span><strong><span>vockey</span></strong><span>.</span></p></li></ul></li></ol><br><blockquote><p><strong><span>Nota:</span></strong><span> En la práctica, reforzar un servidor bastión implica más trabajo que simplemente restringir el tráfico de Secure Shell (SSH) de su dirección IP. Por lo general, un servidor bastión se coloca en una red cerrada a otras redes. A menudo, está protegido con autenticación multifactor (MFA) y monitoreado con herramientas de auditoría. La mayoría de las empresas requieren un seguimiento de acceso al servidor bastión que se pueda someter a auditoría.</span></p></blockquote><br><h3 id='tarea 3-asignar-una-dirección-ip-elástica-al-servidor-bastión'><span>Tarea 3: Asignar una dirección IP elástica al servidor bastión</span></h3><p><span>En esta tarea, asignará una dirección IP elástica al servidor bastión.</span></p><p><span>El servidor bastión que acaba de crear no es accesible desde Internet. No tiene una dirección IPv4 pública o una dirección IP elástica asociada a su dirección IPv4 privada. Las direcciones IP elásticas están asociadas a instancias bastión y se permiten en los firewall de las instalaciones. Si se termina una instancia y se inicia una nueva en su lugar, la dirección IP elástica existente se vuelve a asociar a la nueva instancia. Con este comportamiento, la misma dirección IP elástica de confianza se utiliza en todo momento.</span></p><ol start='11' ><li><span>Asigne una dirección IP elástica y habilite su acceso desde Internet a través de IPv4 asociándola a su servidor bastión.</span></li></ol><br><h3 id='tarea 4-probar-la-conexión-con-el-servidor-bastión'><span>Tarea 4: Probar la conexión con el servidor bastión</span></h3><p><span>En esta tarea, utilizará la clave SSH (archivo .pem o .ppk) para probar la conexión SSH con el servidor bastión. Esta clave fue creada para usted.</span></p><ol start='12' ><li><p><span>En la parte superior derecha de estas instrucciones, seleccione </span><strong><span>Details</span></strong><span> (Detalles).</span></p></li><li><p><span>Junto a </span><strong><span>AWS</span></strong><span>, elija </span><strong><span>Show</span></strong><span> (Mostrar).</span></p></li><li><p><span>Descargue la clave SSH. Tenga en cuenta que el archivo recibirá el nombre </span><strong><span>labuser.</span><span>*</span></strong><span>.</span></p><ul><li><strong><span>Usuarios de Microsoft Windows PuTTY</span></strong><span>: </span><em><span>Download PPK (Descargar PPK)</span></em></li><li><strong><span>Usuarios de macOS o Linux</span></strong><span>: </span><em><span>Download PEM (Descargar PEM)</span></em></li></ul></li><li><p><span>Para cerrar la ventana, elija la </span><strong><span>X</span></strong><span>.</span></p></li><li><p><span>Conéctese a su servidor bastión mediante SSH.</span></p></li><li><p><span>Después de probar su conexión con el servidor bastión, puede cerrar el terminal o PuTTY.</span></p><p><strong><span>Pista</span></strong><span>: Si no puede avanzar, consulte la </span><a href='https://docs.aws.amazon.com/quickstarts/latest/vmlaunch/step-2-connect-to-instance.html'><span>documentación de AWS</span></a><span>. Esta página proporciona instrucciones detalladas acerca de cómo utilizar SSH para conectarse a una instancia EC2.</span></p></li></ol><br><blockquote><p><strong><span>Nota para usuarios de Microsoft Windows</span></strong><span>: Si no tiene PuTTY instalado, debe </span><a href='https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe'><span>descargarlo e instalarlo</span></a><span>. Recomendamos que configure PuTTY de manera que la conexión no caduque. Para mantener abierta la sesión de PuTTY durante más tiempo, establezca </span><strong><span>Seconds between keepalives</span></strong><span> (Segundos entre señales de conexión persistente) en </span><code>30</code><span>.</span></p></blockquote><br><h3 id='tarea 5-crear-una-subred-privada'><span>Tarea 5: Crear una subred privada</span></h3><p><span>En esta tarea, creará una subred privada en la </span><em><span>Lab VPC</span></em><span>.</span></p><ol start='18' ><li><p><span>En la consola, cree una subred privada que cumpla los siguientes criterios:</span></p><ul><li><strong><span>Name tag</span></strong><span> (Etiqueta de nombre): </span><code>Private Subnet (Subred privada)</code></li><li><strong><span>Availability Zone</span></strong><span> (Zona de disponibilidad): igual que la </span><em><span>subred pública</span></em></li><li><strong><span>IPv4 CIDR block</span></strong><span> (Bloque de CIDR IPv4): </span><code>10.0.1.0/24</code></li></ul></li></ol><br><h3 id='tarea 6-crear-una-gateway-nat'><span>Tarea 6: Crear una gateway NAT</span></h3><p><span>En esta tarea, creará una gateway NAT que permita a los recursos de la </span><em><span>subred privada</span></em><span> conectarse a Internet.</span></p><ol start='19' ><li><p><span>Cree una gateway NAT que cumpla los siguientes criterios:</span></p><ul><li><strong><span>Name</span></strong><span> (Nombre): </span><code>Lab NAT Gateway (Gateway NAT de laboratorio)</code></li><li><strong><span>Subnet</span></strong><span> (Subred): </span><em><span>Public Subnet (Subred pública)</span></em></li></ul><p><strong><span>Sugerencia</span></strong><span>: Su gateway NAT necesita una dirección IP elástica.</span></p></li><li><p><span>Cree una tabla de enrutamiento nueva que cumpla los siguientes criterios:</span></p><ul><li><strong><span>Name tag</span></strong><span> (Etiqueta de nombre): </span><code>Private Subnet Route Table (Tabla de enrutamiento de subred privada)</code></li><li><strong><span>Destination</span></strong><span> (Destino): </span><code>0.0.0.0/0</code></li><li><strong><span>Target</span></strong><span> (Objetivo): </span><em><span>Gateway NAT</span></em></li></ul></li><li><p><span>Asocie esta tabla de enrutamiento a la </span><em><span>subred privada</span></em><span>, la cual creó anteriormente.</span></p><p><strong><span>Pista</span></strong><span>: Si no puede avanzar, consulte la </span><a href='https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html#nat-gateway-creating'><span>documentación de AWS</span></a><span>.</span></p></li></ol><br><h3 id='tarea 7-crear-una-instancia-ec2-en-la-subred-privada'><span>Tarea 7: Crear una instancia EC2 en la subred privada</span></h3><p><span>En esta tarea, creará una instancia EC2 en la </span><em><span>subred privada</span></em><span> y la configurará para permitir el tráfico SSH del servidor bastión. También creará un nuevo par de claves para acceder a esta instancia.</span></p><ol start='22' ><li><p><span>Cree un nuevo par de claves denominado </span><code>vockey2</code><span> y descargue el .ppk (Microsoft Windows) o .pem (macOS o Linux) adecuado.</span></p></li><li><p><span>Cree una instancia EC2 en la </span><em><span>subred privada</span></em><span> de la </span><em><span>Lab VPC</span></em><span> que cumpla los siguientes criterios.</span></p><ul><li><p><strong><span>AMI</span></strong><span>: </span><em><span>Amazon Linux 2 AMI (HVM) (AMI de Amazon Linux 2 [HVM])</span></em></p></li><li><p><strong><span>Instance type</span></strong><span> (Tipo de instancia): </span><em><span>t2.micro</span></em></p></li><li><p><strong><span>Name</span></strong><span> (Nombre): </span><code>Private Instance (Instancia privada)</code></p></li><li><p><span>Solo permite el siguiente tráfico:</span></p><ul><li><strong><span>Type</span></strong><span> (Tipo): </span><em><span>SSH</span></em></li><li><strong><span>Port</span></strong><span> (Puerto): </span><code>22</code></li><li><strong><span>Source</span></strong><span> (Origen): Bastion host security group (Grupo de seguridad del servidor bastión) (</span><strong><span>Pista</span></strong><span>: Consulte la </span><a href='https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html'><span>documentación de AWS</span></a><span>)</span></li></ul></li><li><p><span>Utiliza el par de claves </span><strong><span>vockey2</span></strong><span> que creó anteriormente.</span></p></li></ul></li></ol><br><h3 id='tarea 8-configurar-el-cliente-ssh-para-el-acceso-directo-ssh'><span>Tarea 8: Configurar el cliente SSH para el acceso directo SSH</span></h3><p><span>Dado que la instancia privada que acaba de crear utiliza un par de claves diferente del que emplea el servidor bastión, debe configurar su cliente SSH para que use el acceso directo SSH. Esta acción le permite utilizar un par de claves almacenado en el equipo para acceder a la instancia privada sin cargar el par de claves en el servidor bastión. Esta es una buena práctica de seguridad.</span></p><p><span>Para configurar su cliente, siga los pasos de Microsoft Windows o de macOS o Linux.</span></p><h4 id='usuarios-de-microsoft-windows-únicamente'><span>Usuarios de Microsoft Windows únicamente</span></h4><p><span>Los usuarios de Windows deben completar los siguientes pasos.</span></p><ol start='24' ><li><p><span>Descargue e instale </span><em><span>Pageant</span></em><span>, que está disponible en la </span><a href='http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html'><span>página de descargas</span></a><span> de PuTTY.</span></p></li><li><p><span>Después de instalar Pageant, ábralo. Pageant se ejecuta como un servicio de Windows.</span></p></li><li><p><span>Para importar la clave con formato PuTTY a Pageant, siga estos pasos.</span></p><ul><li><span>En la bandeja del sistema Windows, haga doble clic en el ícono de </span><strong><span>Pageant</span></strong><span>. </span><img src="./images/pagent-icon.png" referrerpolicy="no-referrer" alt="Ícono de Pageant"></li><li><span>Elija </span><strong><span>Add key</span></strong><span> (Agregar clave).</span></li><li><span>Seleccione el archivo .ppk que descargó cuando creó el par de claves </span><em><span>vockey2</span></em><span>.</span></li></ul><p><span>La pantalla debería tener un aspecto similar al siguiente ejemplo.</span></p><p><img src="./images/pagent.PNG" referrerpolicy="no-referrer" alt="Captura de pantalla de Pageant"></p></li><li><p><span>Agregue el primer </span><em><span>vockey</span></em><span> que descargó anteriormente. El nombre del archivo era </span><strong><span>labuser.</span><span>*</span></strong><span>.</span></p><p><span>Ahora debería tener dos claves en la lista. Puede cerrar la ventana de Pageant.</span></p></li><li><p><span>En PuTTY, en </span><strong><span>Connection</span></strong><span> (Conexión) &gt; </span><strong><span>SSH</span></strong><span> &gt; </span><strong><span>Auth</span></strong><span> (Autenticación), seleccione </span><strong><span>Allow agent forwarding</span></strong><span> (Permitir reenvío del agente) y deje la casilla de </span><strong><span>Private key file for authentication</span></strong><span> (Archivo de clave privada para autenticación) vacía. Después de completar este paso, continúe con el paso 32 de la tarea 9. Proceda a conectarse al servidor bastión utilizando PuTTY como lo haría normalmente, pero no abra un archivo .ppk.</span></p></li></ol><h4 id='usuarios-de-macos-o-linux-únicamente'><span>Usuarios de macOS o Linux únicamente</span></h4><p><span>Para los usuarios de macOS, </span><em><span>ssh-agent</span></em><span> ya está instalado como parte del sistema operativo. Para agregar las claves, siga los pasos que se indican a continuación.</span></p><ol start='29' ><li><p><span>Agregue sus claves privadas a la aplicación de llaveros mediante el comando </span><code>ssh-add</code><span> con la opción </span><code>-K</code><span> y el archivo </span><code>.pem</code><span> de la clave. El comando debe ser similar al siguiente ejemplo.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ssh-add <span class="cm-attribute">-K</span> vockey2.pem</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Asegúrese de agregar las claves </span><em><span>vockey.pem</span></em><span> y </span><em><span>vockey2.pem</span></em><span> que descargó.</span></p><p><span>Si agrega la clave al agente, puede usar SSH para conectarse a una instancia sin utilizar la opción </span><code>–i</code><span> </span><keyfile><span> cuando se conecte.</span></p></li><li><p><span>Si desea comprobar que las claves están disponibles para ssh-agent, utilice el comando </span><code>ssh-add</code><span> con la opción </span><code>-L</code><span>, como en el siguiente ejemplo.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ssh-add –L</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>El agente debería mostrar las claves que almacenó.</span></p></li></ol><p><span>Después de agregar la clave a su llavero, puede conectarse a la instancia del servidor bastión con SSH mediante la opción </span><code>–A</code><span>. Esta opción habilita el reenvío del agente SSH. También permite que el agente SSH local responda a un desafío de clave pública cuando utiliza SSH para conectarse desde el servidor bastión a una instancia de destino en la VPC.</span></p><p><span>Por ejemplo, para conectarse a una instancia de una subred privada, debe escribir el siguiente comando (este comando habilita el reenvío del agente SSH mediante la instancia del servidor bastión):</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">ssh</span> –A ec2-user@&lt;bastion-IP-address-or-DNS-entry&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Una vez conectado a la instancia del servidor bastión, puede utilizar SSH para conectarse a una instancia específica con un comando como el de este ejemplo.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">ssh</span> user@&lt;instance-IP-address-or-DNS-entry&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><blockquote><p><strong><span>Nota</span></strong><span>: ssh-agent no sabe qué clave debería usar para una conexión SSH dada. Por lo tanto, ssh-agent probará de manera secuencial todas las claves que se carguen en el agente. Dado que las instancias terminan la conexión después de cinco intentos fallidos de conexión, asegúrese de que el agente tenga cinco claves o menos. Como cada administrador debe tener una sola clave, esto no suele ser un problema para la mayoría de las implementaciones. Para obtener más información sobre cómo administrar las claves en ssh-agent, utilice el comando </span><code>man ssh-agent</code><span>.</span></p></blockquote><br><h3 id='tarea 9-probar-la-conexión-ssh-desde-el-servidor-bastión'><span>Tarea 9: Probar la conexión SSH desde el servidor bastión</span></h3><p><span>En esta tarea, probará la conexión SSH desde el servidor bastión con la instancia EC2 que se ejecuta en la </span><em><span>subred privada</span></em><span>.</span></p><ol start='32' ><li><p><span>Conéctese a la instancia del servidor bastión con SSH.</span></p><p><strong><span>Sugerencia</span></strong><span>: Utilice el método de conexión que se describe en la sección de acceso directo SSH.</span></p></li><li><p><span>Conéctese a la instancia privada con SSH y la dirección IP de la instancia privada.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">ssh</span> ec2-user@&lt;private-ip-address-of-instance-in-private-subnet&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Ahora que está conectado a la instancia EC2 en la </span><em><span>subred privada</span></em><span>, pruebe su conexión a Internet.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">ping</span> <span class="cm-number">8</span>.8.8.8</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><strong><span>Sugerencia</span></strong><span>: Presione CTRL+C para salir del comando.</span>
<span>   </span><br></p></li></ol><p><span>Ya estableció la comunicación entre el </span><em><span>servidor bastión</span></em><span> en la </span><em><span>subred pública</span></em><span> y la instancia EC2 en la </span><em><span>subred privada</span></em><span>, como en el siguiente diagrama:</span>
<br></p><p><img src="images/module-6-challenge-lab-bastion-to-private.PNG" referrerpolicy="no-referrer" alt="del servidor bastión a la instancia EC2 privada"></p><p><br>
<br>
<strong><span>Práctica recomendada para la arquitectura</span></strong></p><p><span>En este primer desafío, implementó la práctica recomendada para la arquitectura de </span><em><span>permitir a las personas realizar acciones a distancia.</span></em></p><details>
	<summary>Expanda <b>aquí</b> para obtener más información.</summary>
	De acuerdo con <a href="https://docs.aws.amazon.com/wellarchitected/latest/framework/welcome.html">Well-Architected Framework</a>, los recursos informáticos requieren varias capas de defensa para protegerlos de las amenazas externas e internas. En la práctica, debe eliminar la capacidad de acceso interactivo para reducir el riesgo de que se produzcan errores humanos y el potencial de configuración o administración manuales. En Well-Architected Framework, se recomienda utilizar un flujo de trabajo de administración de cambios para implementar instancias EC2 mediante la infraestructura como código. A continuación, debe utilizar herramientas, como Amazon EC2 Systems Manager, para administrar instancias EC2 en lugar de permitir el acceso directo o puede utilizar un servidor bastión. Para obtener más información sobre cómo reemplazar un servidor bastión con Amazon EC2 Systems Manager, consulte esta <a href="https://aws.amazon.com/blogs/mt/replacing-a-bastion-host-with-amazon-ec2-systems-manager">publicación del blog de seguridad de AWS.</a>
</details><br><h2 id='nuevo-requisito-empresarial-mejora-de-la-capa-de-seguridad-para-los-recursos-privados-desafío n° 2'><span>Nuevo requisito empresarial: mejora de la capa de seguridad para los recursos privados (Desafío n.° 2)</span></h2><p><span>Sofía y Nikhil están orgullosos de los cambios que realizaron en la arquitectura de la aplicación de la cafetería. Están satisfechos con la seguridad adicional creada, además de encantados de tener un entorno de pruebas que puedan utilizar antes de implementar las actualizaciones en la instancia de producción. Comentan a Mateo sobre su nueva arquitectura de la aplicación y este se muestra impresionado. Para mejorar aún más la seguridad de sus aplicaciones, Mateo les aconseja crear una capa adicional de seguridad mediante el uso de listas de control de acceso a la red (ACL de red) personalizadas.</span></p><p><span>En este desafío, continuará asumiendo el papel de uno de los administradores del sistema de la cafetería. Ahora que ha establecido un acceso seguro desde el servidor bastión a la instancia EC2 en la subred privada, debe mejorar la capa de seguridad de la subred privada. Para llevar a cabo esta tarea, creará y configurará una ACL de red personalizada.</span></p><br><h3 id='tarea 10-crear-una-acl-de-red'><span>Tarea 10: Crear una ACL de red</span></h3><p><span>En esta tarea, creará una ACL de red personalizada para controlar el tráfico hacia y desde la </span><em><span>subred privada</span></em><span>.</span></p><p><span>Puede utilizar las ACL de red para controlar el tráfico entre subredes. Se recomienda usar las ACL de red para implementar reglas similares a las de un grupo de seguridad. Las ACL de red brindan una capa adicional de protección.</span></p><p><span>Para este desafío, creará una instancia EC2 en la </span><em><span>subred pública</span></em><span>. Creará un grupo de seguridad que permita el tráfico con el protocolo de mensaje de control de Internet (ICMP) desde la red local. A continuación, creará y configurará su ACL de red personalizada para deniegan el tráfico ICMP entre la </span><em><span>subred privada</span></em><span> y esta instancia de prueba. La utilidad </span><em><span>ping</span></em><span> emplea ICMP.</span></p><ol start='35' ><li><p><span>Vaya a la </span><strong><span>consola de Amazon VPC</span></strong><span> e inspeccione la ACL de red predeterminada de </span><em><span>Lab VPC</span></em><span>.</span></p><p><strong><span>Nota 1</span></strong><span>: Las subredes que ha creado se asocian automáticamente a la ACL de red predeterminada.</span><br/><strong><span>Nota 2</span></strong><span>: Las reglas de entrada y salida de la ACL de red predeterminada </span><em><span>permiten</span></em><span> todo el tráfico.</span></p></li></ol><ol start='36' ><li><p><span>Cree una ACL de red personalizada denominada </span><code>Lab Network ACL (ACL de red de laboratorio)</code><span> para </span><em><span>Lab VPC</span></em><span>.</span></p><p><strong><span>Nota</span></strong><span>: Las reglas predeterminadas de entrada y salida de la ACL de red personalizada </span><em><span>deniegan</span></em><span> todo el tráfico.</span></p></li></ol><ol start='37' ><li><p><span>Configure su ACL de red personalizada de manera que </span><em><span>permita TODO el tráfico que entre y salga de</span></em><span> la </span><em><span>subred privada</span></em><span>.</span></p><p><strong><span>Pista</span></strong><span>: Si no puede avanzar, consulte la </span><a href='https://docs.aws.amazon.com/vpc/latest/userguide/vpc-network-acls.html#CreateACL'><span>documentación de AWS</span></a><span>.</span></p></li></ol><br><h3 id='tarea 11-probar-la-acl-de-red-personalizada'><span>Tarea 11: Probar la ACL de red personalizada</span></h3><ol start='38' ><li><p><span>Cree una instancia EC2 en la </span><em><span>subred pública</span></em><span> de </span><em><span>Lab VPC</span></em><span>. Debe cumplir los siguientes criterios.</span></p><ul><li><span>AMI: </span><em><span>Amazon Linux 2 AMI (HVM) (AMI de Amazon Linux 2 [HVM])</span></em></li><li><span>Instance Type (Tipo de instancia): </span><em><span>t2.micro</span></em></li><li><span>Name (Nombre): </span><code>Test Instance (Instancia de prueba)</code></li><li><span>Permite todo el tráfico entrante </span><em><span>All ICMP – IPv4</span></em><span> a la instancia a través del grupo de seguridad.</span></li></ul></li></ol><ol start='39' ><li><p><span>Registre la dirección IP privada de la </span><em><span>instancia de prueba</span></em><span>.</span></p></li><li><p><span>Compruebe que puede llegar a la dirección IP privada de la </span><em><span>instancia de prueba</span></em><span> desde la </span><em><span>instancia privada</span></em><span>. Desde la ventana del terminal de la </span><em><span>instancia privada</span></em><span>, ejecute el siguiente comando ping:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">ping</span> &lt;private-ip-address-of-test-instance&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Deje la utilidad </span><em><span>ping</span></em><span> en ejecución.</span></p></li><li><p><span>Modifique la ACL de red personalizada para </span><em><span>denegar todo el tráfico All ICMP – IPv4</span></em><span> a </span><code>&lt;private-ip-address-of-test-instance&gt;/32</code><span>.</span></p><ul><li><span>Asegúrese de agregar </span><code>/32</code><span> al final de la dirección IP privada.</span></li><li><span>Asegúrese de que esta regla se evalúe </span><strong><em><span>primero</span></em></strong><span>.</span></li></ul></li><li><p><span>En la ventana del terminal de la </span><em><span>instancia privada</span></em><span>, el comando ping debería dejar de responder. Se ha bloqueado el tráfico a la </span><em><span>instancia de prueba</span></em><span>.</span></p></li></ol><br><p><span>Ahora ha denegado el tráfico de la </span><em><span>subred privada</span></em><span> hacia la </span><em><span>instancia de prueba</span></em><span>, como se muestra en el siguiente diagrama:</span></p><br><p><img src="images/module-6-challenge-lab-private-to-test.PNG" referrerpolicy="no-referrer" alt="de la instancia EC2 privada a la instancia EC2 de prueba"></p><p><br>
<br>
<strong><span>Práctica recomendada para la arquitectura</span></strong></p><p><span>En este segundo desafío, protegió los recursos de red mediante la implementación de la práctica recomendada para la arquitectura de </span><em><span>controlar el tráfico en todas las capas</span></em><span>.</span></p><details>
	<summary>Expanda <b>aquí</b> para obtener más información.</summary>
	Según <a href="https://docs.aws.amazon.com/wellarchitected/latest/framework/welcome.html">Well-Architected Framework</a>, cualquier carga de trabajo que tenga algún tipo de conectividad de red, ya sea con Internet o una red privada, requiere varias capas de defensa para ayudar a protegerla de amenazas externas e internas que se encuentran en las redes. Cuando controla el tráfico en todas las capas, se aplican varias capas de controles de seguridad (lo que se conoce como un enfoque de <i>defensa en profundidad</i>) al tráfico entrante y saliente. Por ejemplo, puede aplicar este enfoque en Amazon VPC mediante grupos de seguridad, ACL de red y subredes.
</details><br><h2 id='respuesta-a-las-preguntas-sobre-el-laboratorio'><span>Respuesta a las preguntas sobre el laboratorio</span></h2><p><span>Las respuestas se registrarán cuando haga clic en el botón azul </span><strong><span>Submit</span></strong><span> (Enviar), que se encuentra al final del laboratorio.</span></p><ol start='44' ><li><span>Acceda a las preguntas de este laboratorio.</span></li></ol><ul><li><span>Elija el menú </span><span id="ssb_voc_grey"><span>Details (Detalles) </span><i class="fas fa-angle-down"></i></span>
<span>y después </span><span id="ssb_voc_grey"><span>Show</span></span><span> (Mostrar).</span></li><li><span>Elija el enlace </span><strong><span>Access the multiple choice questions</span></strong><span> (Acceder a las preguntas de múltiple opción) que aparece en la parte inferior de la página.</span></li></ul><ol start='45' ><li><p><span>En la página que cargó, responda las siguientes preguntas:</span></p><ul><li><strong><span>Pregunta 1</span></strong><span>: ¿Qué función cumple la gateway de Internet en la subred pública?</span></li><li><strong><span>Pregunta 2</span></strong><span>: ¿Qué permite que la instancia de la subred privada se conecte a Internet para que pueda descargar actualizaciones?</span></li><li><strong><span>Pregunta 3</span></strong><span>: ¿Se puede acceder a la instancia de la subred privada directamente desde Internet?</span></li><li><strong><span>Pregunta 4</span></strong><span>: ¿Por qué usa dos pares de claves diferentes para acceder a la instancia privada y el servidor bastión?</span></li><li><strong><span>Pregunta 5</span></strong><span>: ¿Puede el servidor bastión usar ping y obtener una respuesta de la instancia en la subred privada?</span></li><li><strong><span>Pregunta 6</span></strong><span>: ¿Qué reglas del grupo de seguridad permiten a la instancia EC2 privada recibir el tráfico de retorno cuando hace ping en la instancia de prueba?</span></li></ul></li></ol><br><h2 id='envío-del-trabajo'><span>Envío del trabajo</span></h2><ol start='46' ><li><p><span>En la parte superior de estas instrucciones, elija </span><span id="ssb_blue"><span>Submit</span></span><span> (Enviar) para registrar su progreso y, cuando se le indique, elija </span><strong><span>Yes</span></strong><span> (Sí).</span></p></li><li><p><span>Si los resultados no se muestran después de algunos minutos, vuelva a la parte superior de estas instrucciones y elija </span><span id="ssb_voc_grey"><span>Grades</span></span><span> (Resultados).</span></p><p><strong><span>Sugerencia</span></strong><span>: Puede enviar su trabajo varias veces. Después de realizar las modificaciones pertinentes, vuelva a elegir </span><strong><span>Submit</span></strong><span> (Enviar). Su último envío es el que se registrará para este laboratorio.</span></p></li><li><p><span>Para encontrar comentarios detallados sobre su trabajo, elija </span><span id="ssb_voc_grey"><span>Details</span></span><span> (Detalles) seguido de </span><i class="fas fa-caret-right"></i><span> </span><strong><span>View Submission Report</span></strong><span> (Ver informe de envío).</span></p></li></ol><br><h2 id='fin-del-laboratorio'><span>Fin del laboratorio</span></h2><p><i class="fas fa-flag-checkered"></i><span> ¡Felicitaciones! Ha completado el laboratorio.</span></p><ol start='49' ><li><p><span>Para confirmar que desea completar el laboratorio, haga clic en </span><strong><span id="ssb_voc_grey"><span>End Lab</span></span></strong><span> (Finalizar laboratorio), en la parte superior de esta página, y, a continuación, haga clic en </span><strong><span id="ssb_blue"><span>Yes</span></span></strong><span> (Sí).</span></p><p><span>Debería aparecer un panel con el siguiente mensaje: </span><em><span>DELETE has been initiated… You may close this message box now (Se ha iniciado la ELIMINACIÓN… Ya puede cerrar este cuadro de mensaje).</span></em></p></li></ol><ol start='50' ><li><span>Para cerrar el panel, haga clic en la </span><strong><span>X</span></strong><span> de la esquina superior derecha.</span></li></ol><p>&nbsp;</p><p><br>
<em><span>© 2020 Amazon Web Services, Inc. y sus empresas afiliadas. Todos los derechos reservados. Este contenido no puede reproducirse ni redistribuirse, total ni parcialmente, sin el permiso previo por escrito de Amazon Web Services, Inc. Queda prohibida la copia, el préstamo y la venta de carácter comercial.</span></em></p></div></div>
</body>
</html>