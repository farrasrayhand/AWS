<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>README</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
<style type="text/css">
    #ssb_alexa_blue {
        background-color: #3366ff;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #3366ff;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_alexa_ocean {
        background-color: #00a0d2;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00a0d2;
        white-space: nowrap
    }
    #ssb_alexa_sand {
        background-color: #f2f2f2;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #dcdcdc;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_alexa_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #00a0d2;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_blue {
        background-color: #257ACF;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_orange {
        background-color: #E36000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_red {
        background-color: #D90000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_dark_blue {
        color: white;
        background-color: darkblue;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_grafana_blue {
        background-color: #00678b;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00678b;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_green {
        background-color: #629300;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #629300;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_orange {
        background-color: #ec8427;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #ec8427;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grey {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 5px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_grey_square {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 1px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_blue {
        background-color: #00A1C9;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00A1C9;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_iot_grey {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: gray;
        position: relative;
        top: -1px;
        border-color: gray;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00A1C9;
        position: relative;
        top: -1px;
        border-color: #00A1C9;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_kibana_blue {
        background-color: #0079a5;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0079a5;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_kibana_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #0079a5;
        position: relative;
        top: -1px;
        border-color: #0079a5;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_maroon {
        color: white;
        background-color: darkred;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssl_orange {
        color: #ec7211;
        font-weight: bold
    }
    #ssb_orange_oval {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-radius: 20px;
        white-space: nowrap
    }
    #ssb_oval {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 20px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_start_lab {
        background-color: #34A853;
        font-weight: bold;
        font-size: 90%;
        color: white;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 3px;
        padding-bottom: 3px
    }
    #ssb_open_console {
        background-color: white;
        font-family: Google Sans;
        font-weight: bold;
        font-size: 90%;
        color: #1a73e8;
        border-color: #dadce0;
        border-radius: 4px;
        border-width: 2px;
        border-style: solid;
        outline-color: #ffffff;
        padding-top: 5px;
        padding-bottom: 5px;
        padding-left: 10px;
        padding-right: 10px
    }
    #ssb_rds_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_red {
        background-color: #D93025;
        font-weight: bold;
        font-size: 90%;
        color: white;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 3px;
        padding-bottom: 3px
    }
    #ssb_red_oval {
        background-color: #D93025;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-radius: 20px;
        white-space: nowrap
    }
    #ssb_s3_blue {
        background-color: #329AD6;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_s3_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #329AD6;
        position: relative;
        top: -1px;
        border-color: #329AD6;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_services {
        background-color: #232f3e;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_square_lex {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #1166bb;
        position: relative;
        top: -1px;
        border-color: #c4cbcd;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px
    }
    #ssb_ssm_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssbox_cloudformation_blue {
        font-weight: bold;
        background-color: #f1faff;
        font-size: 90%;
        border-color: #00A1C9;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssl_alexa_ocean {
        color: #00a0d2;
        font-weight: bold
    }
    #ssl_blue {
        color: #1166bb;
        font-weight: bold
    }
    #ssl_catalog_orange {
        color: #E16706;
        font-weight: bold
    }
    #ssb_codestar_blue {
        background-color: #329AD6;
        font-weight: bold;
        font-size: 80%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_cognito_blue {
        background-color: #2a7fd4;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0055aa;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_eb_blue {
        background-color: #0f6dca;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0055aa;
        border-width: 1px;
        border-style: solid;
        border-radius: 4px;
        white-space: nowrap;
    }
    #ssb_eb_grey {
        background-color: #e5e5e5;
        font-weight: bold;
        font-size: 90%;
        color: 444444;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #bbbbbb;
        border-width: 1px;
        border-style: solid;
        border-radius: 4px;
        white-space: nowrap
    }
    #ssb_voc_grey {
        background-color: #F2F3F4;
        font-size: 90%;
        color: black;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: grey;
        border-width: 1px;
        border-style: solid;
        white-space: nowrap
    }
</style>
<style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial; }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }
@media print { 
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export'>
<div id='write'  class=''><h1><a name="lab-4-working-with-amazon-ebs" class="md-header-anchor"></a><span>Lab 4: Working with Amazon EBS</span></h1><!-- Note to translators: This activity is unique to this course. --><h2><a name="lab-overview" class="md-header-anchor"></a><span>Lab overview</span></h2><p><img src="../../images/lab-scenario.jpeg" alt="architectural diagram" width="400"></p><p><span>This lab focuses on Amazon Elastic Block Store (Amazon EBS), a key underlying storage mechanism for Amazon Elastic Compute Cloud (Amazon EC2) instances. In this lab, you will learn how to create an EBS volume, attach it to an instance, apply a file system to the volume, and then take a snapshot backup.</span></p><p><span>This lab is based on the AWS Command Line Interface (AWS CLI). Feel free to explore the </span><a href='https://awscli.amazonaws.com/v2/documentation/api/latest/reference/index.html'><span>AWS CLI documentation for Amazon EC2</span></a><span> as you work through the lab.</span></p><h3><a name="topics-covered" class="md-header-anchor"></a><span>Topics covered</span></h3><p><span>At the end of this lab, you should be able to:</span></p><ul><li><span>Create an EBS volume</span></li><li><span>Attach and mount your volume to an EC2 instance</span></li><li><span>Create a snapshot of your volume</span></li><li><span>Create a new volume from your snapshot</span></li><li><span>Attach and mount the new volume to your EC2 instance</span></li></ul><h3><a name="lab-prerequisites" class="md-header-anchor"></a><span>Lab prerequisites</span></h3><p><span>To successfully complete this lab, you should be familiar with basic Amazon EC2 usage and basic Linux server administration. You should also feel comfortable with using Linux command-line tools.</span></p><h3><a name="other-aws-services" class="md-header-anchor"></a><span>Other AWS services</span></h3><p><span> AWS Identity and Access Management (IAM) policies apply to the Amazon Web Services (AWS) products and services in this lab environment. The IAM policies might restrict your access to AWS services that are not used in this lab. In addition, you might be able to use only the service features that are required. In some cases, access to service features are further limited as an intentional aspect of the lab design. You should expect errors if you try to access other services or perform actions beyond the ones that are in this lab guide.</span></p><p>&nbsp;</p><h3><a name="amazon-ebs" class="md-header-anchor"></a><span>Amazon EBS</span></h3><p><em><span>Amazon Elastic Block Store (Amazon EBS)</span></em><span> offers persistent storage for EC2 instances. EBS volumes are network-attached and persist independently from the life of an instance. EBS volumes are highly available, highly reliable volumes. They can be used as a boot partition for EC2 instances. They can also be attached to a running EC2 instance as a standard block device.</span></p><p><span>When EBS volumes are used as a boot partition, EC2 instances can be stopped and subsequently restarted. This feature enables you to pay only for the storage resources that are used, while also maintaining your instance&#39;s state. EBS volumes offer improved durability over local EC2 instance stores. EBS volumes are automatically replicated on the backend (in a single Availability Zone).</span></p><p><span>If you want more durability, you can use Amazon EBS to create point-in-time consistent snapshots of your volumes. These snapshots are then stored in Amazon Simple Storage Service (Amazon S3) and are automatically replicated across multiple Availability Zones. These snapshots can be used as the starting point for new EBS volumes, and they can protect your data for long-term durability. You can also share these snapshots with coworkers and other AWS developers.</span></p><p><span>This lab explains the basic concepts of Amazon EBS in a step-by-step fashion. However, it can only give a brief overview of Amazon EBS concepts. For further information, see the </span><a href="http://aws.amazon.com/ebs/" target="_blank"><span>Amazon EBS documentation</span></a><span>.</span></p><p>&nbsp;</p><h3><a name="ebs-volume-features" class="md-header-anchor"></a><span>EBS volume features</span></h3><p><span>EBS volumes deliver the following features:</span></p><ul><li><strong><span>Persistent storage:</span></strong><span> Volume lifetime is independent of any particular EC2 instance</span></li><li><strong><span>General purpose:</span></strong><span> EBS volumes are raw, unformatted block devices that can be used from any operating system</span></li><li><strong><span>High performance:</span></strong><span> EBS volumes are equal to or better than local Amazon EC2 drives</span></li><li><strong><span>High reliability:</span></strong><span> EBS volumes have built-in redundancy within an Availability Zone</span></li><li><strong><span>Designed for resiliency:</span></strong><span> Amazon EBS volume types are designed to provide from 98.8 percent durability up to for five 9s (99.999 percent) of durability.</span></li><li><strong><span>Variable size:</span></strong><span> Volume sizes range from 1 GiB to 16 TiB</span></li><li><strong><span>Easy to use:</span></strong><span> EBS volumes can be created, attached, backed up, restored, and deleted</span></li></ul><p><strong><span>Duration</span></strong>
<span>This lab takes approximately </span><strong><span>30 minutes</span></strong><span> to complete.</span></p><p>&nbsp;</p><h2><a name="launching-your-lab-environment" class="md-header-anchor"></a><span>Launching your lab environment</span></h2><ol start='' ><li><p><span>At the top of these instructions, launch this lab by choosing </span><span id="ssb_voc_grey"><span>Start Lab</span></span><span> </span></p><p><span>A </span><strong><span>Start Lab</span></strong><span> panel opens, and it displays the lab status.</span></p></li><li><p><span>Wait until you see the message </span><em><span>Lab status: ready</span></em><span>, then close the </span><strong><span>Start Lab</span></strong><span> panel by selecting the </span><strong><span>X</span></strong><span>.</span></p><p><span>This lab launches an EC2 instance that&#39;s named </span><em><span>Bastion Host</span></em><span>. You will use this server to create lab resources by running the AWS CLI commands.</span></p></li><li><p><span>Above these instructions, select the </span><span id="ssb_voc_grey"><span>Details</span></span><span> dropdown menu, and then select </span><span id="ssb_voc_grey"><span>Show</span></span></p><p><span>Copy all the lab details—such as </span><em><span>BastionHost</span></em><span>, </span><em><span>UserAccessSecretKey</span></em><span>, </span><em><span>Region</span></em><span>, and others—to a text file and save it as </span><code>Lab Details.txt</code><span>. </span></p><p>&nbsp;</p></li></ol><p><strong><span>Note</span></strong><span>: Make sure that you use a </span><em><span>text editor</span></em><span> (a program for editing text files) to save the file. Examples of text editors include </span><a href='https://atom.io/'><span>Atom</span></a><span>, </span><a href='https://www.sublimetext.com/'><span>Sublime Text</span></a><span>, or </span><a href='https://code.visualstudio.com/'><span>Microsoft Visual Studio Code</span></a><span>.</span>
<span>  </span><br/><span>In the lab, the information that you saved will be referred to as </span><u><em><span>Lab Details</span></em></u><span>.</span></p><p>&nbsp;</p><h2><a name="using-ssh-to-connect-to-the-bastion-host" class="md-header-anchor"></a><span>Using SSH to connect to the Bastion Host</span></h2><h3><a name="microsoft-windows-users" class="md-header-anchor"></a><span>Microsoft Windows users</span></h3><p><i class="fas fa-comment"></i><span> These instructions are specifically for Microsoft Windows users. If you are using macOS or Linux, </span><a href="#ssh-MACLinux"><span>skip to the next section</span></a><span>.</span>
<span>​</span></p><ol start='4' ><li><p><span>Above these instructions that you are currently reading, choose the </span><span id="ssb_voc_grey"><span>Details</span></span><span> dropdown menu and then choose </span><span id="ssb_voc_grey"><span>Show</span></span></p><p><span>A </span><strong><span>Credentials</span></strong><span> window opens.</span></p></li><li><p><span>Choose the </span><strong><span>Download PPK</span></strong><span> button and save the </span><strong><span>labsuser.ppk</span></strong><span> file.</span></p><p><span>Typically, your browser will save the file to the </span><strong><span>Downloads</span></strong><span> directory.</span></p></li><li><p><span>Close the </span><strong><span>Credentials</span></strong><span> window by choosing the </span><strong><span>X</span></strong><span>.</span></p></li><li><p><span>From the Lab Details text file, note the IP address for the </span><strong><span>Bastion Host</span></strong><span>. </span></p></li><li><p><span>Download </span><strong><span>PuTTY</span></strong><span> so that you can use SSH to connect to the EC2 instance. If you don&#39;t have PuTTY installed on your computer, </span><a href="https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe"><span>download it here</span></a><span>.</span></p></li><li><p><span>Open </span><strong><span>putty.exe</span></strong></p></li><li><p><span>Configure PuTTY timeout to keep the PuTTY session open for a longer period of time.</span></p><ul><li><span>Choose </span><strong><span>Connection</span></strong></li><li><span>Set </span><strong><span>Seconds between keepalives</span></strong><span> to </span><code>30</code></li></ul></li><li><p><span>Configure your PuTTY session:</span></p><ul><li><span>Choose </span><strong><span>Session</span></strong></li><li><strong><span>Host Name (or IP address):</span></strong><span> Paste the </span><em><span>Public DNS or IPv4 address</span></em><span> of the </span><em><span>Bastion Host</span></em><span> instance that you noted earlier. </span></li><li><span>Back in PuTTY, in the </span><strong><span>Connection</span></strong><span> list, expand </span><i class="far fa-plus-square"></i><span> </span><strong><span>SSH</span></strong></li><li><span>Choose </span><strong><span>Auth</span></strong><span> </span><em><span>(don&#39;t expand it)</span></em></li><li><span>Choose </span><strong><span>Browse</span></strong></li><li><span>Browse to and select the </span><strong><span>labsuser.ppk</span></strong><span> file that you downloaded</span></li><li><span>Choose </span><strong><span>Open</span></strong><span> to select it</span></li><li><span>Choose </span><strong><span>Open</span></strong><span> again</span></li></ul></li><li><p><span>To trust and connect to the host, choose </span><strong><span>Yes</span></strong><span>.</span></p></li><li><p><span>When prompted to </span><strong><span>login as</span></strong><span>, enter: </span><code>ec2-user</code></p><p><span>This action will connect you to the EC2 instance.</span></p></li><li><p><span>Windows users: </span><a href="#ssh-after"><span> Skip ahead to the next task.</span></a></p></li></ol><p><a id='ssh-MACLinux'></a></p><h3><a name="macos-and-linux-users" class="md-header-anchor"></a><span>macOS and Linux users</span></h3><p><span>These instructions are specifically for macOS or Linux users. If you are a Windows user, </span><a href="#ssh-after"><span>skip ahead to the next task.</span></a></p><ol start='15' ><li><span>Above these instructions (that you are currently reading), choose the </span><span id="ssb_voc_grey"><span>Details</span></span><span> dropdown menu and then choose </span><span id="ssb_voc_grey"><span>Show</span></span><span> </span></li></ol><p><span>A </span><strong><span>Credentials</span></strong><span> window opens.</span></p><ol start='16' ><li><p><span>Choose the </span><strong><span>Download PEM</span></strong><span> button and save the </span><strong><span>labsuser.pem</span></strong><span> file.</span></p></li><li><p><span>Exit the </span><strong><span>Credentials</span></strong><span> window by choosing the </span><strong><span>X</span></strong><span>.</span></p></li><li><p><span>From the Lab Details text file, note the IP address for the </span><strong><span>Bastion Host</span></strong><span>. </span></p></li><li><p><span>Open a terminal window, and change directory (by using </span><code>cd</code><span>) to the directory where the </span><em><span>labsuser.pem</span></em><span> file was downloaded.</span></p><p><span>For example, if the </span><em><span>labsuser.pem</span></em><span> file was saved to your </span><strong><span>Downloads</span></strong><span> directory, run this command:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cd</span> ~/Downloads</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Change the permissions on the key to be read-only by running this command:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">chmod</span> <span class="cm-number">400</span> labsuser.pem</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Run the following command (replace </span>&lt;<em><span>bastion-ip-address</span></em>&gt;<span> with the </span><em><span>BastionHost</span></em><span> address that you copied earlier). </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">ssh</span> <span class="cm-attribute">-i</span> labsuser.pem ec2-user@&lt;bastion-ip-address&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>When you are prompted to allow the first connection to this remote SSH server, enter: </span><code>yes</code><span> </span></p></li></ol><p><span>Because you are using a key pair for authentication, you will not be prompted for a password.</span>
<span>​</span>
<a id='ssh-after'></a></p><p>&nbsp;</p><h3><a name="configuring-the-aws-cli" class="md-header-anchor"></a><span>Configuring the AWS CLI</span></h3><p><span>You will use the information from the Lab Details text file that you created in the </span><em><span>Launch Your Lab Environment</span></em><span> task.</span></p><p><span>The </span><em><span>Bastion Host</span></em><span> instance has an instance profile that&#39;s called </span><em><span>EC2InstanceProfile</span></em><span> associated with it. This instance profile gives it the required permissions. </span></p><ol start='23' ><li><p><span>In the terminal window, configure the AWS CLI.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded md-focus" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws configure</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li></ol><ol start='24' ><li><p><span>At the prompts, enter the following information. For the access key, secret access key, and Region settings, use the values from the Lab Details text file.</span></p><p><strong><span>Note</span></strong><span>: Ensure that you copy and paste the correct user values from the Lab Details text file to these fields. </span></p><ul><li><strong><span>AWS Access Key ID</span></strong><span>: </span><em><span>AccessKey</span></em><span> value</span></li><li><strong><span>AWS Secret Access Key</span></strong><span>: </span><em><span>SecretKey</span></em><span> value</span></li><li><strong><span>Default region name</span></strong><span>:  Name of the Region (for example, </span><code>us-east-1</code><span> or </span><code>eu-west-2</code><span>)</span></li><li><strong><span>Default output format</span></strong><span>: </span><code>json</code></li></ul></li></ol><p>&nbsp;</p><h2><a name="task-1-creating-a-new-ebs-volume" class="md-header-anchor"></a><span>Task 1: Creating a new EBS volume</span></h2><p><span>In this task, you will create and attach an EBS volume to a new EC2 instance.</span></p><ol start='25' ><li><p><span>In the terminal window, describe the EC2 instances in the lab environment by running the following command:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-instances</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>    {</span></p><p><span>      &quot;Groups&quot;: [],</span></p><p><span>      &quot;Instances&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;AmiLaunchIndex&quot;: 0,</span></p><p><span>          &quot;ImageId&quot;: &quot;ami-08f3d892de2xxxxxx&quot;,</span></p><p><span>          </span><strong><span>&quot;InstanceId&quot;: &quot;i-0ef6c8de97cxxxxxx&quot;</span></strong><span>,</span></p><p><span>          &quot;InstanceType&quot;: &quot;t2.micro&quot;,</span></p><p><span>          &quot;KeyName&quot;: &quot;xxxxxxx&quot;,</span></p><p><span>          &quot;LaunchTime&quot;: &quot;2020-07-16T16:05:38+00:00&quot;,</span></p><p><span>          &quot;Monitoring&quot;: {</span></p><p><span>            &quot;State&quot;: &quot;disabled&quot;</span></p><p><span>          },</span></p><p><span>          &quot;Placement&quot;: {</span></p><p><span>            </span><strong><span>&quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;</span></strong><span>,</span></p><p><span>            &quot;GroupName&quot;: &quot;&quot;,</span></p><p><span>            &quot;Tenancy&quot;: &quot;default&quot;</span></p><p><span>          },</span></p><p><span>          ...</span></p><p><span>          &quot;BlockDeviceMappings&quot;: [</span></p><p><span>            {</span></p><p><span>              &quot;DeviceName&quot;: &quot;/dev/xvda&quot;,</span></p><p><span>              &quot;Ebs&quot;: {</span></p><p><span>                &quot;AttachTime&quot;: &quot;2020-07-16T16:05:39+00:00&quot;,</span></p><p><span>                &quot;DeleteOnTermination&quot;: true,</span></p><p><span>                &quot;Status&quot;: &quot;attached&quot;,</span></p><p><span>                </span><strong><span>&quot;VolumeId&quot;: &quot;vol-0f4450ad739xxxxxx&quot;</span></strong></p><p><span>              }</span></p><p><span>            }</span></p><p><span>          ],</span></p><p><span>         ...</span></p><p><span>          &quot;Tags&quot;: [</span></p><p><span>            {</span></p><p><span>              &quot;Key&quot;: &quot;aws:cloudformation:logical-id&quot;,</span></p><p><span>              &quot;Value&quot;: &quot;Ec2Instance&quot;</span></p><p><span>            },</span></p><p><span>            {</span></p><p><span>              &quot;Key&quot;: &quot;aws:cloudformation:stack-name&quot;,</span></p><p><span>              &quot;Value&quot;: &quot;ACF-lab4-cli-ebs&quot;</span></p><p><span>            },</span></p><p><span>            {</span></p><p><span>              </span><strong><span>&quot;Key&quot;: &quot;Name&quot;,</span></strong></p><p><span>              </span><strong><span>&quot;Value&quot;: &quot;Lab&quot;</span></strong></p><p><span>            },   </span></p></blockquote></li></ol><p><span>		</span><span>The </span><strong><span>Tags</span></strong><span> section of the output lists an Amazon EC2 instance named </span><em><span>Lab</span></em><span>, which was launched for this lab.</span></p><ol start='26' ><li><p><span>Note the following details of the </span><em><span>Lab</span></em><span> instance:</span></p><ul><li><strong><span>InstanceId:</span></strong><span> This value will look similar to </span><em><span>i-0ef6c8de97cxxxxxx</span></em><span>.</span></li><li><strong><span>AvailabilityZone:</span></strong><span> This value will look similar to </span><em><span>us-west-2a</span></em><span>. You can also find the Availability Zone in the information that you saved in the Lab Details text file.</span></li><li><strong><span>VolumeId:</span></strong><span> This value will look similar to </span><em><span>vol-0f4450ad739xxxxxx</span></em><span>.</span></li></ul></li></ol><ol start='27' ><li><span>From the output, copy the values of </span><em><span>InstanceId</span></em><span> and </span><em><span>VolumeId</span></em><span> for the </span><em><span>Lab</span></em><span> instance, and save them to the Lab Details text file. Make sure that you note that the </span><em><span>VolumeId</span></em><span> value is for the existing EBS volume. </span></li></ol><ol start='28' ><li><p><span>Query the details of the EBS volume that&#39;s associated with the </span><em><span>Lab</span></em><span> EC2 instance. Update the following command with the </span><em><span>VolumeId</span></em><span> value that you saved in the previous step. </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-volumes <span class="cm-attribute">--volume-ids</span> &lt;replace-with-VolumeId&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>    {</span></p><p><span>&quot;Volumes&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Attachments&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;AttachTime&quot;: &quot;2020-07-16T16:05:39+00:00&quot;,</span></p><p><span>          &quot;Device&quot;: &quot;/dev/xvda&quot;,</span></p><p><span>          &quot;InstanceId&quot;: &quot;i-0ef6c8de97cxxxxxx&quot;,</span></p><p><span>          &quot;State&quot;: &quot;attached&quot;,</span></p><p><span>          &quot;VolumeId&quot;: &quot;vol-0f4450ad739xxxxxx&quot;,</span></p><p><span>          &quot;DeleteOnTermination&quot;: true</span></p><p><span>        }</span></p><p><span>      ],</span></p><p><span>      &quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;,</span></p><p><span>      &quot;CreateTime&quot;: &quot;2020-07-16T16:05:39.339000+00:00&quot;,</span></p><p><span>      &quot;Encrypted&quot;: false,</span></p><p><span>      </span><strong><span>&quot;Size&quot;: 8</span></strong><span>,</span></p><p><span>      &quot;SnapshotId&quot;: &quot;snap-028531a8313xxxxxx&quot;,</span></p><p><span>      &quot;State&quot;: &quot;in-use&quot;,</span></p><p><span>      &quot;VolumeId&quot;: &quot;vol-0f4450ad739xxxxxx&quot;,</span></p><p><span>      &quot;Iops&quot;: 100,</span></p><p><span>      &quot;VolumeType&quot;: &quot;gp2&quot;,</span></p><p><span>      &quot;MultiAttachEnabled&quot;: false</span></p><p><span>    }</span></p><p><span>]</span></p><p><span>}</span></p><p>&nbsp;</p></blockquote><p><span>This volume has a size of </span><em><span>8 GiB</span></em><span>. The volume size makes it easy to distinguish from the volume that you will create next, which will have a size of </span><em><span>1 GiB</span></em><span>.</span></p></li><li><p><span>To add a new volume, update the </span><code>create-volume</code><span> command with these settings:</span></p><ul><li><p><strong><span>Volume Type:</span></strong><span> </span><code>gp2</code></p></li><li><p><strong><span>Size (GiB):</span></strong><span> </span><code>1</code></p><ul><li><strong><span>Note</span></strong><span>: You might be restricted from creating large volumes.</span></li></ul></li><li><p><strong><span>Availability Zone:</span></strong><span> </span><em><span>AvailabilityZone</span></em><span> value (the same Availability Zone as your EC2 instance)</span></p></li><li><p><span>Tag Specifications:</span></p><ul><li><strong><span>Key:</span></strong><span> </span><code>Name</code></li><li><strong><span>Value:</span></strong><span> </span><code>My Volume</code></li></ul></li></ul><p>&nbsp;</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 create-volume <span class="cm-attribute">--volume-type</span> gp2 \</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--size</span> <span class="cm-number">1</span> <span class="cm-attribute">--availability-zone</span> &lt;AvailabilityZone&gt; \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--tag-specifications</span> <span class="cm-string">'ResourceType=volume,Tags=[{Key=Name,Value=My Volume}]'</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>    {</span></p><p><span>&quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;,</span></p><p><span>&quot;CreateTime&quot;: &quot;2020-07-16T19:15:26+00:00&quot;,</span></p><p><span>&quot;Encrypted&quot;: false,</span></p><p><span>&quot;Size&quot;: 1,</span></p><p><span>&quot;SnapshotId&quot;: &quot;&quot;,</span></p><p><span>&quot;State&quot;: &quot;creating&quot;,</span></p><p><strong><span>&quot;VolumeId&quot;: &quot;vol-011e5902bb7xxxxxx&quot;</span></strong><span>,</span></p><p><span>&quot;Iops&quot;: 100,</span></p><p><span>&quot;Tags&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Key&quot;: &quot;Name&quot;,</span></p><p><span>      &quot;Value&quot;: &quot;MyVolume&quot;</span></p><p><span>    }</span></p><p><span>],</span></p><p><span>&quot;VolumeType&quot;: &quot;gp2&quot;,</span></p><p><span>&quot;MultiAttachEnabled&quot;: false</span></p><p><span>}</span></p></blockquote><p>&nbsp;</p><p><span>Note the </span><em><span>VolumeID</span></em><span> value of the new volume (</span><em><span>My Volume</span></em><span>). </span></p></li><li><p><span>Before you proceed, verify that the state of </span><em><span>My Volume</span></em><span> is </span><em><span>available</span></em><span>. When you run the following command, be sure to use the </span><em><span>VolumeID</span></em><span> of the new volume.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-volumes <span class="cm-attribute">--volume-ids</span> &lt;my-volume-VolumeId&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>    {</span></p><p><span>&quot;Volumes&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Attachments&quot;: [],</span></p><p><span>      &quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;,</span></p><p><span>      &quot;CreateTime&quot;: &quot;2020-07-16T19:15:26.832000+00:00&quot;,</span></p><p><span>      &quot;Encrypted&quot;: false,</span></p><p><span>      &quot;Size&quot;: 1,</span></p><p><span>      &quot;SnapshotId&quot;: &quot;&quot;,</span></p><p><span>      </span><strong><span>&quot;State&quot;: &quot;available&quot;</span></strong><span>,</span></p><p><span>      &quot;VolumeId&quot;: &quot;vol-011e5902bb7xxxxxx&quot;,</span></p><p><span>      &quot;Iops&quot;: 100,</span></p><p><span>      &quot;Tags&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;Key&quot;: &quot;Name&quot;,</span></p><p><span>          &quot;Value&quot;: &quot;MyVolume&quot;</span></p><p><span>        }</span></p><p><span>      ],</span></p><p><span>      &quot;VolumeType&quot;: &quot;gp2&quot;,</span></p><p><span>      &quot;MultiAttachEnabled&quot;: false</span></p><p><span>    }</span></p><p><span>]</span></p><p><span>}</span></p><p>&nbsp;</p></blockquote><p><span>Notice that the state of the volume is </span><em><span>available</span></em><span>.</span></p></li></ol><p>&nbsp;
&nbsp;</p><h2><a name="task-2-attaching-the-new-volume-to-an-instance" class="md-header-anchor"></a><span>Task 2: Attaching the new volume to an instance</span></h2><p><span>In this task, you will attach </span><em><span>My Volume</span></em><span> to the </span><em><span>Lab</span></em><span> EC2 instance.</span></p><ol start='30' ><li><p><span>Run the </span><code>attach-volume</code><span> command with the following parameters.</span></p><ul><li><p><strong><span>VolumeId:</span></strong><span> </span><em><span>VolumeId</span></em><span> value for </span><em><span>My Volume</span></em><span> (the new, 1 GiB volume)</span></p></li><li><p><strong><span>Device:</span></strong><span> </span><code>/dev/sdf</code></p></li><li><p><strong><span>InstanceId:</span></strong><span> </span><em><span>InstanceId</span></em><span> value for the </span><em><span>Lab</span></em><span> instance</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 attach-volume <span class="cm-attribute">--device</span> /dev/sdf \</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--instance-id</span> &lt;lab-instance-InstanceId&gt; \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--volume-id</span> &lt;my-volume-VolumeId&gt;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre></li></ul><p><span>Example output:</span></p><blockquote><p><span>    {</span></p><p><span>&quot;AttachTime&quot;: &quot;2020-07-16T19:38:41.114000+00:00&quot;,</span></p><p><span>&quot;Device&quot;: &quot;/dev/sdf&quot;,</span></p><p><span>&quot;InstanceId&quot;: &quot;i-0ef6c8de97cxxxxxx&quot;,</span></p><p><span>&quot;State&quot;: &quot;attaching&quot;,</span></p><p><span>&quot;VolumeId&quot;: &quot;vol-011e5902bb7xxxxxx&quot;</span></p><p><span>}</span></p></blockquote></li></ol><p>&nbsp;</p><ol start='31' ><li><p><span>Describe </span><em><span>My Volume</span></em><span> again:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-volumes <span class="cm-attribute">--volume-ids</span> &lt;my-volume-VolumeId&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>{</span></p><p><span>&quot;Volumes&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Attachments&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;AttachTime&quot;: &quot;2020-07-16T19:38:41+00:00&quot;,</span></p><p><span>          &quot;Device&quot;: &quot;/dev/sdf&quot;,</span></p><p><span>          &quot;InstanceId&quot;: &quot;i-0ef6c8de97cxxxxxx&quot;,</span></p><p><span>          &quot;State&quot;: &quot;attached&quot;,</span></p><p><span>          &quot;VolumeId&quot;: &quot;vol-011e5902bb7xxxxxx&quot;,</span></p><p><span>          &quot;DeleteOnTermination&quot;: false</span></p><p><span>        }</span></p><p><span>      ],</span></p><p><span>      &quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;,</span></p><p><span>      &quot;CreateTime&quot;: &quot;2020-07-16T19:15:26.832000+00:00&quot;,</span></p><p><span>      &quot;Encrypted&quot;: false,</span></p><p><span>      &quot;Size&quot;: 1,</span></p><p><span>      &quot;SnapshotId&quot;: &quot;&quot;,</span></p><p><span>      </span><strong><span>&quot;State&quot;: &quot;in-use&quot;,</span></strong></p><p><span>      &quot;VolumeId&quot;: &quot;vol-011e5902bb7xxxxxx&quot;,</span></p><p><span>      &quot;Iops&quot;: 100,</span></p><p><span>      &quot;Tags&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;Key&quot;: &quot;Name&quot;,</span></p><p><span>          &quot;Value&quot;: &quot;MyVolume&quot;</span></p><p><span>        }</span></p><p><span>      ],</span></p><p><span>      &quot;VolumeType&quot;: &quot;gp2&quot;,</span></p><p><span>      &quot;MultiAttachEnabled&quot;: false</span></p><p><span>    }</span></p><p><span>]</span></p><p><span>}</span></p></blockquote><p>&nbsp;</p><p><span>The volume state is now </span><em><span>in-use</span></em><span>.</span></p></li></ol><p>&nbsp;</p><h2><a name="task-3-connecting-to-the-lab-instance" class="md-header-anchor"></a><span>Task 3: Connecting to the Lab instance</span></h2><p><span>In this task, make sure that you keep your </span><em><span>Bastion Host</span></em><span> session open. You will create a new, separate session for the </span><em><span>Lab</span></em><span> instance. Connecting to the </span><em><span>Lab</span></em><span> instance is similar to connecting to the </span><em><span>Bastion Host</span></em><span>, but you will use a different IP address.</span></p><ol start='32' ><li><p><span>In the Lab Details text file, locate the IP address of the </span><strong><span>LabInstance</span></strong><span>.</span></p></li><li><p><span>Start a new SSH session by using the IP address of the </span><em><span>Lab</span></em><span> instance to configure your connection, and log in to it.</span></p><p><strong><span>Note:</span></strong><span> For Windows, use PuTTY. For macOS or Linux, use the </span><code>ssh</code><span> command. You do not need to download the PPK or PEM files again. To review how to create an SSH connection, refer to the section titled </span><em><span>Using SSH to Connect to the Bastion Host</span></em><span>.</span></p><p>&nbsp;</p></li></ol><h2><a name="task-4-creating-and-configuring-your-file-system" class="md-header-anchor"></a><span>Task 4: Creating and configuring your file system</span></h2><p><span>In this task, you will add the new volume to a Linux instance as an </span><em><span>ext3</span></em><span> file system under the </span><em><span>/mnt/data-store</span></em><span> mount point.</span></p><p><i class="fas fa-info-circle"></i><span> If you are using PuTTY, you can paste text by right-clicking in the PuTTY window.</span></p><ol start='34' ><li><p><span>Make sure that you are in the </span><em><span>Lab</span></em><span> instance SSH session.</span></p></li><li><p><span>View the storage that is available on your instance:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">df -h</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>You should see output similar to the following example:</span></p><blockquote><p><span>Filesystem   Size Used Avail Use% Mounted on</span></p><p><span>devtmpfs    474M   0 474M  0% /dev</span></p><p><span>tmpfs      492M   0 492M  0% /dev/shm</span></p><p><span>tmpfs      492M 404K 492M  1% /run</span></p><p><span>tmpfs      492M   0 492M  0% /sys/fs/cgroup</span></p><p><span>/dev/xvda1   8.0G 1.3G 6.8G 16% /</span></p><p><span>tmpfs      99M   0  99M  0% /run/user/1000</span></p></blockquote><p><span>This example output shows the original 8 GB disk volume. Your new volume is not yet shown.</span></p></li><li><p><span>Create an ext3 file system on the new volume:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo mkfs -t ext3 /dev/sdf</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Create a directory for mounting the new storage volume:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo mkdir /mnt/data-store</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Mount the new volume:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo mount /dev/sdf /mnt/data-store</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>To configure the Linux instance to mount this volume when the instance is started, you must add a line to </span><em><span>/etc/fstab</span></em><span>.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">echo "/dev/sdf &nbsp; /mnt/data-store ext3 defaults,noatime 1 2" | sudo tee -a /etc/fstab</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>To find the setting on the last line, review the configuration file:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cat /etc/fstab</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>#</span></p><p><span>UUID=91ab5f73-23b0-4204-bbe0-813fc53eb4b5   /      xfs  defaults,noatime 1  1</span></p><p><span>/dev/sdf  /mnt/data-store ext3 defaults,noatime 1 2</span></p></blockquote></li><li><p><span>Review the available storage again:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">df -h</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>The output will now contain an additional line - </span><em><span>/dev/xvdf</span></em><span>:</span></p><blockquote><p><span>Filesystem   Size Used Avail Use% Mounted on</span></p><p><span>devtmpfs    474M   0 474M  0% /dev</span></p><p><span>tmpfs      492M   0 492M  0% /dev/shm</span></p><p><span>tmpfs      492M 404K 492M  1% /run</span></p><p><span>tmpfs      492M   0 492M  0% /sys/fs/cgroup</span></p><p><span>/dev/xvda1   8.0G 1.3G 6.8G 16% /</span></p><p><span>tmpfs      99M   0  99M  0% /run/user/1000</span></p><p><span>/dev/xvdf    976M 1.3M 924M  1% /mnt/data-store</span></p></blockquote></li></ol><ol start='41' ><li><p><span>On your mounted volume, create a file and add some text to it.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo sh -c "echo some text has been written &gt; /mnt/data-store/file.txt"</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Verify that the text was written to your volume.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cat /mnt/data-store/file.txt</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>You should find the following output:</span></p><blockquote><p><span>some text has been written</span></p></blockquote></li></ol><p>&nbsp;</p><h2><a name="task-5-creating-an-ebs-snapshot" class="md-header-anchor"></a><span>Task 5: Creating an EBS snapshot</span></h2><p><span>In this task, you will create a snapshot of your EBS volume.</span></p><p><span>You can create any number of point-in-time, consistent snapshots from EBS volumes at any time. EBS snapshots are stored in Amazon S3 with high durability. New EBS volumes can be created out of snapshots for cloning or for restoring backups. EBS snapshots can also be easily shared among AWS users or copied over AWS Regions.</span></p><ol start='43' ><li><p><span>Return to your </span><em><span>Bastion Host</span></em><span> session. If your session timed out, reconnect to.</span></p></li><li><p><span>Create a snapshot of the new volume (</span><em><span>My Volume</span></em><span>). Be sure to update the </span><em><span>InstanceId</span></em><span> value.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 create-snapshots <span class="cm-attribute">--instance-specification</span> \</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">InstanceId</span><span class="cm-operator">=</span>&lt;lab-instance-InstanceId&gt;<span class="cm-def">,ExcludeBootVolume</span><span class="cm-operator">=</span><span class="cm-atom">true</span> \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--tag-specifications</span> <span class="cm-string">'ResourceType=snapshot,Tags=[{Key=Name,Value=My Snapshot}]'</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>{</span></p><p><span>&quot;Snapshots&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Description&quot;: &quot;&quot;,</span></p><p><span>      &quot;Tags&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;Key&quot;: &quot;Name&quot;,</span></p><p><span>          &quot;Value&quot;: &quot;MySnapshot&quot;</span></p><p><span>        }</span></p><p><span>      ],</span></p><p><span>      &quot;Encrypted&quot;: false,</span></p><p><span>      &quot;VolumeId&quot;: &quot;vol-011e5902bb7xxxxxx&quot;,</span></p><p><span>      &quot;State&quot;: &quot;pending&quot;,</span></p><p><span>      &quot;VolumeSize&quot;: 1,</span></p><p><span>      &quot;StartTime&quot;: &quot;2020-07-16T20:49:29.742000+00:00&quot;,</span></p><p><span>      &quot;Progress&quot;: &quot;&quot;,</span></p><p><span>      &quot;OwnerId&quot;: &quot;135572168615&quot;,</span></p><p><span>      </span><strong><span>&quot;SnapshotId&quot;: &quot;snap-042a3cdbcb4xxxxxx&quot;</span></strong></p><p><span>    }</span></p><p><span>]</span></p><p><span>}</span></p></blockquote><p><span>Notice that the snapshot is tagged with the name </span><em><span>My Snapshot</span></em><span>.</span></p></li><li><p><span>Make a note of the </span><em><span>SnapshotId</span></em><span> value and save it to the Lab Details file. It will be similar to </span><em><span>snap-042a3cdbcbxxxxxx</span></em><span>.</span></p></li><li><p><span>Query the snapshot to ensure that its current state is </span><em><span>completed</span></em><span>:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-snapshots <span class="cm-attribute">--snapshot-ids</span> &lt;SnapshotId&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>{</span></p><p><span>&quot;Snapshots&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Description&quot;: &quot;&quot;,</span></p><p><span>      &quot;Encrypted&quot;: false,</span></p><p><span>      &quot;OwnerId&quot;: &quot;135572168615&quot;,</span></p><p><span>      &quot;Progress&quot;: &quot;100%&quot;,</span></p><p><span>      &quot;SnapshotId&quot;: &quot;snap-042a3cdbcb4xxxxxx&quot;,</span></p><p><span>      &quot;StartTime&quot;: &quot;2020-07-16T20:49:29.742000+00:00&quot;,</span></p><p><span>      </span><strong><span>&quot;State&quot;: &quot;completed&quot;</span></strong><span>,</span></p><p><span>      &quot;VolumeId&quot;: &quot;vol-011e5902bb7xxxxxx&quot;,</span></p><p><span>      &quot;VolumeSize&quot;: 1,</span></p><p><span>      &quot;Tags&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;Key&quot;: &quot;Name&quot;,</span></p><p><span>          &quot;Value&quot;: &quot;MySnapshot&quot;</span></p><p><span>        }</span></p><p><span>      ]</span></p><p><span>    }</span></p><p><span>]</span></p><p><span>}</span></p></blockquote></li><li><p><span>The output includes information about the snapshot. It will start with a state of </span><em><span>pending</span></em><span>, which means that the snapshot is being created. It will then change to a state of </span><em><span>completed</span></em><span>. Only used storage blocks are copied to snapshots, so empty blocks do not take any snapshot storage space.</span></p></li><li><p><span>In your </span><em><span>Lab</span></em><span> instance SSH session, delete the file that you created on your volume. If needed, reconnect to the </span><em><span>Lab</span></em><span> instance.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo rm /mnt/data-store/file.txt</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Verify that the file was deleted.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ls /mnt/data-store/</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Your file has been deleted.</span></p></li></ol><p>&nbsp;
&nbsp;</p><h2><a name="task-6-restoring-the-ebs-snapshot" class="md-header-anchor"></a><span>Task 6: Restoring the EBS snapshot</span></h2><p><span>If you want to retrieve the data that is stored in a snapshot, you can </span><strong><span>Restore</span></strong><span> the snapshot to a new EBS volume.</span></p><h3><a name="creating-a-volume-by-using-your-snapshot" class="md-header-anchor"></a><span>Creating a volume by using your snapshot</span></h3><ol start='50' ><li><p><span>Return to your </span><em><span>Bastion Host</span></em><span> session.</span></p></li><li><p><span>Create a volume by using your new snapshot. </span></p><p><span>Instead of the </span><code>--volume-type</code><span> and </span><code>--size</code><span> parameters, you use </span><code>--snapshot-id</code><span>. When you create a volume, you must specify either the </span><em><span>snapshot-id</span></em><span> or the size. When you restore a snapshot to a new volume, you can also modify the configuration, such as changing the volume type, size, or Availability Zone.</span></p><p><span>Be sure to update the command parameters with the values that you saved in the Lab Details text file:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 create-volume \</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--snapshot-id</span> &lt;SnapshotId&gt; \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--availability-zone</span> &lt;AvailabilityZone&gt; \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--tag-specifications</span> <span class="cm-string">'ResourceType=volume,Tags=[{Key=Name,Value=Restored Volume}]'</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>{</span></p><p><span>&quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;,</span></p><p><span>&quot;CreateTime&quot;: &quot;2020-07-17T13:52:26+00:00&quot;,</span></p><p><span>&quot;Encrypted&quot;: false,</span></p><p><span>&quot;Size&quot;: 1,</span></p><p><span>&quot;SnapshotId&quot;: &quot;snap-042a3cdbcb4xxxxxx&quot;,</span></p><p><span>&quot;State&quot;: &quot;creating&quot;,</span></p><p><strong><span>&quot;VolumeId&quot;: &quot;vol-0044f4c123xxxxxx&quot;</span></strong><span>,</span></p><p><span>&quot;Iops&quot;: 100,</span></p><p><span>&quot;Tags&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Key&quot;: &quot;Name&quot;,</span></p><p><span>      &quot;Value&quot;: &quot;Restored Volume&quot;</span></p><p><span>    }</span></p><p><span>],</span></p><p><span>&quot;VolumeType&quot;: &quot;gp2&quot;,</span></p><p><span>&quot;MultiAttachEnabled&quot;: false</span></p><p><span>}</span></p></blockquote></li><li><p><span>Note the </span><em><span>VolumeId</span></em><span> value for the new, restored volume and save it to the Lab Details text file. It will be similar to </span><em><span>vol-0044f4c123xxxxx</span></em><span>.</span></p><p><span>  </span></p></li></ol><h3><a name="attaching-the-restored-volume-to-your-lab-ec2-instance" class="md-header-anchor"></a><span>Attaching the restored volume to your Lab EC2 instance</span></h3><ol start='53' ><li><p><span>Stay in the </span><em><span>Bastion Host</span></em><span> SSH session.</span></p></li><li><p><span>Update the </span><code>attach-volume</code><span> command with the following parameters and run it. (This time, the </span><strong><span>Device</span></strong><span> parameter will be set to </span><em><span>/dev/sdg</span></em><span>.):</span></p><p><strong><span>VolumeId:</span></strong><span> </span><code>&lt;restored-volume-VolumeId&gt;</code></p><p><strong><span>Device:</span></strong><span> </span><code>/dev/sdg</code></p><p><strong><span>InstanceId:</span></strong><span> </span><code>&lt;lab-instance-InstanceId&gt;</code><span> </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 attach-volume <span class="cm-attribute">--device</span> /dev/sdg \</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--instance-id</span> &lt;lab-instance-InstanceId&gt; \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--volume-id</span> &lt;restored-volume-VolumeId&gt;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>{</span></p><p><span>&quot;AttachTime&quot;: &quot;2020-07-17T14:07:05.937000+00:00&quot;,</span></p><p><span>&quot;Device&quot;: &quot;/dev/sdg&quot;,</span></p><p><span>&quot;InstanceId&quot;: &quot;i-0ef6c8de97cxxxxxx&quot;,</span></p><p><span>&quot;State&quot;: &quot;attaching&quot;,</span></p><p><span>&quot;VolumeId&quot;: &quot;vol-0044f4c1230xxxxxx&quot;</span></p><p><span>}</span></p></blockquote></li><li><p><span>Describe the restored volume. Update the following command with the </span><em><span>VolumeID</span></em><span> of the restored volume:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="bash"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-volumes <span class="cm-attribute">--volume-ids</span> &lt;restored-volume-VolumeId&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>Example output:</span></p><blockquote><p><span>{</span></p><p><span>&quot;Volumes&quot;: [</span></p><p><span>    {</span></p><p><span>      &quot;Attachments&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;AttachTime&quot;: &quot;2020-07-17T14:07:05+00:00&quot;,</span></p><p><span>          &quot;Device&quot;: &quot;/dev/sdg&quot;,</span></p><p><span>          &quot;InstanceId&quot;: &quot;i-0ef6c8de97cxxxxxx&quot;,</span></p><p><span>          &quot;State&quot;: &quot;attached&quot;,</span></p><p><span>          &quot;VolumeId&quot;: &quot;vol-0044f4c1230xxxxxx&quot;,</span></p><p><span>          &quot;DeleteOnTermination&quot;: false</span></p><p><span>        }</span></p><p><span>      ],</span></p><p><span>      &quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;,</span></p><p><span>      &quot;CreateTime&quot;: &quot;2020-07-17T13:52:26.582000+00:00&quot;,</span></p><p><span>      &quot;Encrypted&quot;: false,</span></p><p><span>      &quot;Size&quot;: 1,</span></p><p><span>      &quot;SnapshotId&quot;: &quot;snap-042a3cdbcb4xxxxxx&quot;,</span></p><p><span>      </span><strong><span>&quot;State&quot;: &quot;in-use&quot;</span></strong><span>,</span></p><p><span>      &quot;VolumeId&quot;: &quot;vol-0044f4c1230xxxxxx&quot;,</span></p><p><span>      &quot;Iops&quot;: 100,</span></p><p><span>      &quot;Tags&quot;: [</span></p><p><span>        {</span></p><p><span>          &quot;Key&quot;: &quot;Name&quot;,</span></p><p><span>          &quot;Value&quot;: &quot;Restored Volume&quot;</span></p><p><span>        }</span></p><p><span>      ],</span></p><p><span>      &quot;VolumeType&quot;: &quot;gp2&quot;,</span></p><p><span>      &quot;MultiAttachEnabled&quot;: false</span></p><p><span>    }</span></p><p><span>]</span></p><p><span>}</span></p></blockquote></li></ol><p>&nbsp;</p><h3><a name="mounting-the-restored-volume" class="md-header-anchor"></a><span>Mounting the restored volume</span></h3><ol start='56' ><li><p><span>Return to the </span><em><span>Lab</span></em><span> instance SSH session. You might need to reconnect to it.</span></p></li><li><p><span>Create a directory for mounting the new storage volume:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo mkdir /mnt/data-store2</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Mount the new volume:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo mount /dev/sdg /mnt/data-store2</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Verify that the volume you mounted has the file that you created previously.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="plain"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="plain"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ls /mnt/data-store2/</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>You should find file.txt in the output.</span></p><blockquote><p><span>file.txt   lost+found</span></p></blockquote></li></ol><p>&nbsp;
&nbsp;</p><h2><a name="lab-summary" class="md-header-anchor"></a><span>Lab summary</span></h2><p><i class="far fa-thumbs-up" style="color:blue"></i><span> You now have successfully:</span></p><ul><li><span>Created an EBS volume</span></li><li><span>Attached the volume to an EC2 instance</span></li><li><span>Created a file system on the volume</span></li><li><span>Added a file to volume</span></li><li><span>Created a snapshot of your volume</span></li><li><span>Created a new volume from the snapshot</span></li><li><span>Attached and mounted the new volume to your EC2 instance</span></li><li><span>Verified that the file you created earlier was on the newly created volume</span></li></ul><p>&nbsp;</p><h2><a name="additional-resources" class="md-header-anchor"></a><span>Additional resources</span></h2><p><a href="http://aws.amazon.com/ebs/" target="_blank"><span>Amazon Elastic Block Store features, functions, and pricing</span></a></p><p><a href="http://aws.amazon.com/training/" target="_blank"><span>AWS Training and Certification</span></a></p><p><em><span>©2021 Amazon Web Services, Inc. and its affiliates. All rights reserved. This work may not be reproduced or redistributed, in whole or in part, without prior written permission from Amazon Web Services, Inc. Commercial copying, lending, or selling is prohibited.</span></em></p></div>
</body>
</html>